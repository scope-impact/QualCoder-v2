---
id: QC-007.03
title: Context Menus
status: To Do
assignee: []
created_date: '2026-01-29 16:14'
labels:
  - presentation
  - coding
  - text-coding
  - P0
dependencies: []
parent_task_id: QC-007
---

## Description

<!-- SECTION:DESCRIPTION:BEGIN -->
Implement context menus for text editor and code tree. Text menu: mark/unmark/memo/annotate. Code tree menu: add/rename/delete/color/move.
<!-- SECTION:DESCRIPTION:END -->

## Acceptance Criteria
<!-- AC:BEGIN -->
### Text Editor Context Menu
- [ ] #1 Mark with selected code action
- [ ] #2 Mark with recent code (submenu with last 10 codes)
- [ ] #3 Mark with new code (opens code dialog)
- [ ] #4 In-vivo code (create code from selection text)
- [ ] #5 Unmark code at cursor
- [ ] #6 Add memo to coded segment
- [ ] #7 Toggle important flag on coded segment
- [ ] #8 Annotate selection
- [ ] #9 Copy to clipboard

### Code Tree Context Menu
- [ ] #10 Add new code to category
- [ ] #11 Add new sub-category
- [ ] #12 Rename code/category
- [ ] #13 View/edit code memo
- [ ] #14 Delete code/category (with confirmation)
- [ ] #15 Change code color (color picker dialog)
- [ ] #16 Move code to different category
- [ ] #17 Show all files coded with this code
<!-- AC:END -->

## Implementation

- `src/presentation/organisms/text_editor_panel.py` - text context menu
- `src/presentation/organisms/codes_panel.py` - tree context menu
- `src/presentation/dialogs/color_picker_dialog.py` - new file
