---
id: QC-008.04
title: Pseudonym Entity
status: To Do
assignee: []
created_date: '2026-01-30'
labels:
  - domain
  - sources
  - privacy
  - P2
dependencies: []
parent_task_id: QC-008
---

## Description

Define domain entity for Pseudonym management. Pseudonyms replace real names/identifiable information for research ethics compliance.

## Original QualCoder Reference

- Module: `pseudonyms.py`
- Storage: `pseudonyms.json` in project folder

## Acceptance Criteria

### Entity: PseudonymMapping
- [ ] #1 `original: str` - Original text to replace (min 2 chars)
- [ ] #2 `pseudonym: str` - Replacement text (min 3 chars or auto-generated)
- [ ] #3 `created_date: datetime`
- [ ] #4 Case-sensitive matching

### Value Objects
- [ ] #5 `OriginalText` - validated, min 2 chars
- [ ] #6 `PseudonymText` - validated, min 3 chars

### Domain Events
- [ ] #7 `PseudonymCreated(original, pseudonym)`
- [ ] #8 `PseudonymDeleted(original)`
- [ ] #9 `PseudonymsApplied(file_id, replacement_count)`

### Pure Functions
- [ ] #10 `generate_random_pseudonym(length=8) -> str`
- [ ] #11 `apply_pseudonyms(text, mappings) -> tuple[str, int]` (returns text and count)

### Validation
- [ ] #12 Unique originals (no duplicates)
- [ ] #13 Unique pseudonyms (no duplicates)

## Implementation

- `src/domain/source/pseudonym.py`
- `src/domain/source/events.py` (extend)

## Agent-First Considerations

Agent should NOT have access to pseudonym mappings (privacy protection).
