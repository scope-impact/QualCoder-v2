---
id: QC-017.06
title: Journal Repository
status: To Do
assignee: []
created_date: '2026-01-30'
labels:
  - infrastructure
  - analysis
  - research
  - P2
dependencies: [QC-016.05]
parent_task_id: QC-017
---

## Description

Repository and export services for Research Journals.

## Original QualCoder Reference

- Table: `journal` in SQLite database

## Acceptance Criteria

### JournalRepository Interface
- [ ] #1 `create(journal: Journal) -> JournalId`
- [ ] #2 `get_by_id(id: JournalId) -> Journal | None`
- [ ] #3 `get_all() -> list[Journal]`
- [ ] #4 `get_by_owner(owner: str) -> list[Journal]`
- [ ] #5 `update(journal: Journal) -> None`
- [ ] #6 `delete(id: JournalId) -> None`
- [ ] #7 `search(query: str) -> list[tuple[Journal, list[Match]]]`

### JournalExporter Service
- [ ] #8 `export_to_text(journal, path) -> Result[Path, ExportError]`
- [ ] #9 `export_to_markdown(journal, path) -> Result[Path, ExportError]`
- [ ] #10 `export_to_odt(journal, path) -> Result[Path, ExportError]`
- [ ] #11 `export_all(journals, path, format) -> Result[Path, ExportError]`

### SQLite Implementation
- [ ] #12 Map to existing `journal` table schema
- [ ] #13 Full-text search support

## Implementation

- `src/infrastructure/analysis/journal_repository.py`
- `src/infrastructure/analysis/journal_exporter.py`

## Database Schema

```sql
CREATE TABLE journal (
    jid INTEGER PRIMARY KEY,
    name TEXT,
    jentry TEXT,
    date TEXT,
    owner TEXT
);
```
