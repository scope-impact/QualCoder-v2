---
id: QC-014.02
title: Attribute Commands
status: To Do
assignee: []
created_date: '2026-01-29 16:41'
labels:
  - application
  - cases
  - P0
dependencies: []
parent_task_id: QC-014
---

## Description

<!-- SECTION:DESCRIPTION:BEGIN -->
Commands: CreateAttributeType, RenameAttributeType, DeleteAttributeType, ConvertAttributeType, SetAttributeValue, ClearAttributeValue.
<!-- SECTION:DESCRIPTION:END -->

## Acceptance Criteria
<!-- AC:BEGIN -->
### Attribute Type Commands (Controller)
- [ ] #1 `create_attribute_type(name, value_type: ValueType) -> Result[AttributeTypeCreated, CreateError]`
- [ ] #2 `rename_attribute_type(attribute_type_id, new_name) -> Result[AttributeTypeRenamed, RenameError]`
- [ ] #3 `delete_attribute_type(attribute_type_id) -> Result[AttributeTypeDeleted, DeleteError]`
- [ ] #4 `convert_attribute_type(attribute_type_id, new_type: ValueType) -> Result[AttributeTypeConverted, ConvertError]`

### Attribute Value Commands (Controller)
- [ ] #5 `set_attribute_value(case_id, attribute_type_id, value) -> Result[AttributeValueSet, SetError]`
- [ ] #6 `clear_attribute_value(case_id, attribute_type_id) -> Result[AttributeValueCleared, ClearError]`
- [ ] #7 `bulk_set_attributes(case_id, values: Dict[AttributeTypeId, str]) -> Result[BulkSetCompleted, SetError]`

### Deriver Functions (Pure)
- [ ] #8 `derive_create_attribute_type(name, value_type, existing_names) -> Result[AttributeType, Error]`
- [ ] #9 `derive_convert_type(attribute_type, new_type, values) -> Result[ConversionPlan, ConvertError]`
- [ ] #10 `validate_value_for_type(value, value_type) -> Result[str, ValidationError]`

### Invariants
- [ ] #11 `is_attribute_name_unique(name, existing) -> bool`
- [ ] #12 `is_conversion_valid(from_type, to_type, values) -> bool`
- [ ] #13 `is_value_valid_for_type(value, value_type) -> bool`

### Event Publishing
- [ ] #14 Events: AttributeTypeCreated, AttributeTypeRenamed, AttributeTypeDeleted, AttributeTypeConverted
- [ ] #15 Events: AttributeValueSet, AttributeValueCleared
<!-- AC:END -->
