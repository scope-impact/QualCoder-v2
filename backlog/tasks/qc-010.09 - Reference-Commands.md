---
id: QC-010.09
title: Reference Commands
status: To Do
assignee: []
created_date: '2026-01-30'
labels:
  - application
  - sources
  - bibliography
  - P3
dependencies: [QC-009.07]
parent_task_id: QC-010
---

## Description

Application layer commands for Reference/Bibliography management.

## Acceptance Criteria

### CRUD Commands
- [ ] #1 `create_reference(data) -> Result[ReferenceId, ValidationError]`
- [ ] #2 `update_reference(ref_id, data) -> Result[None, Error]`
- [ ] #3 `delete_reference(ref_id) -> Result[None, NotFoundError]`
- [ ] #4 `get_reference(ref_id) -> Reference | None`
- [ ] #5 `list_references(filter?) -> list[Reference]`

### Import Commands
- [ ] #6 `import_ris_file(path) -> Result[ImportReport, ImportError]`
- [ ] #7 `ImportReport`: imported_count, skipped_duplicates, errors
- [ ] #8 `preview_ris_import(path) -> list[Reference]`

### Linking Commands
- [ ] #9 `link_reference_to_file(ref_id, file_id) -> Result[None, Error]`
- [ ] #10 `unlink_reference_from_file(ref_id, file_id) -> Result[None, Error]`
- [ ] #11 `get_references_for_file(file_id) -> list[Reference]`
- [ ] #12 `get_files_for_reference(ref_id) -> list[SourceFile]`

### Event Publishing
- [ ] #13 Publish domain events for all operations

## Implementation

- `src/application/source/reference_controller.py`
