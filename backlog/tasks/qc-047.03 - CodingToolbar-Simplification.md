---
id: QC-047.03
title: CodingToolbar Simplification
status: To Do
parent: QC-047
layer: Presentation
created_date: '2026-02-04'
labels: [presentation, coding, refactor, P1]
dependencies: []
---

## Description

Simplify CodingToolbar from feature-rich toolbar to minimal design with just source type tabs, search input, and details toggle.

**Current Structure:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Text][A/V][Image][PDF] | Coder: [â–¼] | [?][Aa][#][...12+ buttons] | ğŸ”  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Target Structure:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Text][A/V][Image][PDF]                    Search transcript... [Show Details] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Effort Estimate:** 4-8 hours (Low-Medium)

## Acceptance Criteria

- [ ] Source type buttons styled as tabs (Text highlighted when active)
- [ ] Search input with placeholder "Search transcript..."
- [ ] "Show Details" toggle button on right side
- [ ] Remove coder dropdown (or move elsewhere)
- [ ] Remove action buttons (help, text size, markers, etc.)
- [ ] Media type switching still works
- [ ] Search functionality preserved
- [ ] Details toggle emits signal to show/hide DetailsPanel

## Implementation

### Files to Modify

1. **`src/shared/presentation/organisms/coding_toolbar.py`** (671 lines)
   - Drastically simplify layout
   - Keep media type selector, restyle as tabs
   - Keep search input, restyle
   - Add "Show Details" toggle button
   - Remove most action buttons

### New Layout

```python
class SimplifiedCodingToolbar(QFrame):
    """Minimal coding toolbar"""

    media_type_changed = Signal(str)  # "text", "av", "image", "pdf"
    search_changed = Signal(str)
    details_toggle_clicked = Signal()

    def __init__(self, colors: ColorPalette, parent=None):
        # Layout: [MediaTabs] --- [SearchInput] [DetailsToggle]

        # Left: Media type tabs
        self._media_tabs = MediaTypeTabs(colors)

        # Center: Spacer

        # Right: Search + Details toggle
        self._search = SearchInput(placeholder="Search transcript...")
        self._details_btn = Button("Show Details", variant="ghost")
```

### Media Type Tabs Styling

```python
# Active tab (e.g., "Text")
active_tab_style = f"""
    QPushButton {{
        background-color: {colors.primary};
        color: {colors.primary_foreground};
        border-radius: {RADIUS.md}px;
        padding: {SPACING.sm}px {SPACING.md}px;
        font-weight: 600;
    }}
"""

# Inactive tabs
inactive_tab_style = f"""
    QPushButton {{
        background-color: transparent;
        color: {colors.text_secondary};
        border: 1px solid {colors.border};
        border-radius: {RADIUS.md}px;
        padding: {SPACING.sm}px {SPACING.md}px;
    }}
    QPushButton:hover {{
        background-color: {colors.surface_light};
    }}
"""
```

### Search Input Styling

```python
search_style = f"""
    QLineEdit {{
        background-color: {colors.surface};
        border: 1px solid {colors.border};
        border-radius: {RADIUS.md}px;
        padding: {SPACING.sm}px {SPACING.md}px;
        color: {colors.text_primary};
        min-width: 200px;
    }}
    QLineEdit::placeholder {{
        color: {colors.text_hint};
    }}
"""
```

## Technical Notes

### Removed Features

These buttons/features are removed from toolbar but functionality preserved via keyboard shortcuts:

| Removed Button | Keyboard Shortcut | Alternative Access |
|---------------|-------------------|-------------------|
| Help (?) | - | Menu or tooltip |
| Text size (Aa) | Ctrl+/- | Standard zoom |
| Show markers (#) | M | Keyboard |
| Important flag | I | Keyboard |
| Undo unmark | Ctrl+Z | Keyboard |
| Annotate | A | Keyboard |

### Coder Dropdown

The coder dropdown (for multi-coder projects) should move to:
- Header area next to file name, OR
- Settings/preferences, OR
- A separate "Coder" menu item

For Phase 1, consider hiding it if not essential to the mockup.

### Signal Mapping

| Old Signal | New Signal | Notes |
|-----------|-----------|-------|
| `media_type_changed` | `media_type_changed` | Same |
| `search_changed` | `search_changed` | Same |
| `help_clicked` | (removed) | |
| `text_size_changed` | (removed) | Use Ctrl+/- |
| `markers_toggled` | (removed) | Use M key |
| (new) | `details_toggle_clicked` | New signal |

### Show Details Button State

Button text should toggle:
- "Show Details" when panel is hidden
- "Hide Details" when panel is visible

```python
def set_details_visible(self, visible: bool):
    self._details_btn.setText("Hide Details" if visible else "Show Details")
```
