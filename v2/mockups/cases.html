<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QualCoder v2 - Cases</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,400;0,9..144,500;0,9..144,600;0,9..144,700;1,9..144,400&family=Instrument+Sans:wght@400;500;600;700&family=Source+Serif+4:ital,opsz,wght@0,8..60,400;0,8..60,500;0,8..60,600;1,8..60,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/design-system.css">
  <link rel="stylesheet" href="css/layout.css">
  <style>
    /* ========================================
       CASES PAGE - RESEARCH ATELIER EDITION
       ======================================== */

    .cases-layout {
      display: flex;
      flex: 1;
      overflow: hidden;
    }

    /* ----------------------------------------
       CASES CONTENT AREA
       ---------------------------------------- */
    .cases-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .cases-header {
      padding: var(--space-6);
      background: linear-gradient(135deg, var(--color-primary-50) 0%, var(--surface-main) 100%);
      border-bottom: 1px solid var(--surface-border);
    }

    .cases-header-top {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      margin-bottom: var(--space-4);
    }

    .cases-title {
      font-family: var(--font-display);
      font-size: var(--font-size-2xl);
      font-weight: 600;
      color: var(--text-primary);
      letter-spacing: -0.01em;
    }

    .cases-subtitle {
      font-family: var(--font-serif);
      font-size: var(--font-size-base);
      color: var(--text-secondary);
      margin-top: var(--space-1);
    }

    .cases-actions {
      display: flex;
      align-items: center;
      gap: var(--space-3);
    }

    /* Stats Row */
    .cases-stats {
      display: flex;
      gap: var(--space-4);
    }

    .case-stat-card {
      display: flex;
      align-items: center;
      gap: var(--space-3);
      padding: var(--space-3) var(--space-4);
      background: var(--surface-card);
      border: 1px solid var(--surface-border);
      border-radius: var(--radius-lg);
      cursor: pointer;
      transition: all var(--transition-base);
    }

    .case-stat-card:hover {
      border-color: var(--color-primary-300);
      box-shadow: var(--shadow-md);
    }

    .case-stat-card.active {
      border-color: var(--color-primary-500);
      background: var(--color-primary-50);
    }

    .case-stat-icon {
      width: 40px;
      height: 40px;
      border-radius: var(--radius-lg);
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--color-primary-100);
      color: var(--color-primary-600);
    }

    .case-stat-icon.sources {
      background: var(--color-info-50);
      color: var(--color-info-600);
    }

    .case-stat-icon.attributes {
      background: var(--color-accent-100);
      color: var(--color-accent-600);
    }

    .case-stat-value {
      font-family: var(--font-display);
      font-size: var(--font-size-xl);
      font-weight: 600;
      color: var(--text-primary);
    }

    .case-stat-label {
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
    }

    /* ----------------------------------------
       FILTER BAR
       ---------------------------------------- */
    .cases-filters {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: var(--space-4) var(--space-6);
      border-bottom: 1px solid var(--surface-border);
      background: var(--surface-card);
    }

    .filter-pills {
      display: flex;
      gap: var(--space-2);
    }

    .filter-pill {
      padding: var(--space-2) var(--space-3);
      border-radius: var(--radius-full);
      font-size: var(--font-size-sm);
      font-weight: 500;
      background: var(--surface-section);
      color: var(--text-secondary);
      border: 1px solid transparent;
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .filter-pill:hover {
      background: var(--color-primary-50);
      color: var(--color-primary-700);
    }

    .filter-pill.active {
      background: var(--color-primary-600);
      color: white;
    }

    .search-wrapper {
      position: relative;
      width: 280px;
    }

    .search-input {
      width: 100%;
      padding: var(--space-2) var(--space-4);
      padding-left: var(--space-10);
      border-radius: var(--radius-full);
      border: 1px solid var(--surface-border);
      background: var(--surface-main);
      font-size: var(--font-size-sm);
      transition: all var(--transition-fast);
    }

    .search-input:focus {
      outline: none;
      border-color: var(--color-primary-400);
      box-shadow: 0 0 0 3px var(--color-primary-100);
    }

    .search-icon {
      position: absolute;
      left: var(--space-3);
      top: 50%;
      transform: translateY(-50%);
      width: 18px;
      height: 18px;
      color: var(--text-muted);
    }

    /* ----------------------------------------
       CASES GRID
       ---------------------------------------- */
    .cases-grid-container {
      flex: 1;
      overflow-y: auto;
      padding: var(--space-6);
    }

    .cases-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
      gap: var(--space-5);
    }

    /* ----------------------------------------
       CASE CARD - SCHOLARLY DESIGN
       ---------------------------------------- */
    .case-card {
      background: var(--surface-card);
      border: 1px solid var(--surface-border);
      border-radius: var(--radius-xl);
      padding: var(--space-5);
      cursor: pointer;
      transition: all var(--transition-base);
      position: relative;
    }

    .case-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--color-primary-500), var(--color-accent-500));
      border-radius: var(--radius-xl) var(--radius-xl) 0 0;
      opacity: 0;
      transition: opacity var(--transition-fast);
    }

    .case-card:hover {
      border-color: var(--color-primary-300);
      box-shadow: var(--shadow-lg);
      transform: translateY(-2px);
    }

    .case-card:hover::before {
      opacity: 1;
    }

    .case-card.selected {
      border-color: var(--color-primary-500);
      box-shadow: var(--shadow-lg), 0 0 0 3px var(--color-primary-100);
    }

    .case-card.selected::before {
      opacity: 1;
    }

    .case-card-header {
      display: flex;
      align-items: flex-start;
      gap: var(--space-4);
      margin-bottom: var(--space-4);
    }

    .case-avatar {
      width: 56px;
      height: 56px;
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: var(--font-display);
      font-weight: 600;
      font-size: var(--font-size-lg);
      flex-shrink: 0;
      background: linear-gradient(135deg, var(--color-primary-100), var(--color-primary-200));
      color: var(--color-primary-700);
      box-shadow: var(--shadow-sm);
    }

    .case-avatar.coral { background: linear-gradient(135deg, var(--color-accent-100), var(--color-accent-200)); color: var(--color-accent-700); }
    .case-avatar.gold { background: linear-gradient(135deg, var(--color-warning-50), var(--color-warning-100)); color: var(--color-warning-700); }
    .case-avatar.teal { background: linear-gradient(135deg, var(--color-info-50), var(--color-info-100)); color: var(--color-info-700); }
    .case-avatar.sage { background: linear-gradient(135deg, var(--color-success-50), var(--color-success-100)); color: var(--color-success-700); }
    .case-avatar.rose { background: linear-gradient(135deg, var(--color-error-50), var(--color-error-100)); color: var(--color-error-700); }

    .case-info {
      flex: 1;
      min-width: 0;
    }

    .case-name {
      font-family: var(--font-display);
      font-size: var(--font-size-md);
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: var(--space-1);
    }

    .case-description {
      font-family: var(--font-serif);
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
      line-height: 1.5;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .case-menu-btn {
      padding: var(--space-2);
      border-radius: var(--radius-md);
      background: transparent;
      border: none;
      color: var(--text-muted);
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .case-menu-btn:hover {
      background: var(--surface-hover);
      color: var(--text-primary);
    }

    .case-divider {
      height: 1px;
      background: var(--surface-border);
      margin: var(--space-4) 0;
    }

    .case-stats-row {
      display: flex;
      gap: var(--space-5);
      margin-bottom: var(--space-4);
    }

    .case-stat {
      display: flex;
      align-items: center;
      gap: var(--space-2);
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
    }

    .case-stat-icon-sm {
      width: 16px;
      height: 16px;
      color: var(--text-muted);
    }

    .case-attributes {
      display: flex;
      flex-wrap: wrap;
      gap: var(--space-2);
    }

    .case-attribute-tag {
      display: inline-flex;
      align-items: center;
      gap: var(--space-1);
      padding: var(--space-1) var(--space-2);
      background: var(--surface-section);
      border-radius: var(--radius-md);
      font-size: var(--font-size-xs);
    }

    .attribute-key {
      color: var(--text-muted);
    }

    .attribute-value {
      font-weight: 500;
      color: var(--text-primary);
    }

    /* ----------------------------------------
       CASE DETAIL PANEL
       ---------------------------------------- */
    .case-detail-panel {
      width: 400px;
      background: var(--surface-card);
      border-left: 1px solid var(--surface-border);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .detail-header {
      padding: var(--space-6);
      background: linear-gradient(180deg, var(--color-primary-50) 0%, var(--surface-card) 100%);
      border-bottom: 1px solid var(--surface-border);
      text-align: center;
    }

    .detail-avatar {
      width: 80px;
      height: 80px;
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: var(--font-display);
      font-weight: 600;
      font-size: var(--font-size-2xl);
      margin: 0 auto var(--space-4);
      background: linear-gradient(135deg, var(--color-primary-500), var(--color-accent-500));
      color: white;
      box-shadow: var(--shadow-lg);
    }

    .detail-name {
      font-family: var(--font-display);
      font-size: var(--font-size-xl);
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: var(--space-2);
    }

    .detail-description {
      font-family: var(--font-serif);
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
      line-height: 1.6;
    }

    .detail-content {
      flex: 1;
      overflow-y: auto;
      padding: var(--space-5);
    }

    .detail-section {
      margin-bottom: var(--space-6);
    }

    .detail-section-title {
      display: flex;
      align-items: center;
      gap: var(--space-2);
      font-size: var(--font-size-xs);
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--text-muted);
      margin-bottom: var(--space-4);
      padding-bottom: var(--space-2);
      border-bottom: 1px solid var(--surface-border);
    }

    .detail-section-title svg {
      width: 14px;
      height: 14px;
    }

    /* Linked Sources */
    .linked-source {
      display: flex;
      align-items: center;
      gap: var(--space-3);
      padding: var(--space-3);
      border-radius: var(--radius-lg);
      margin-bottom: var(--space-2);
      background: var(--surface-section);
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .linked-source:hover {
      background: var(--color-primary-50);
    }

    .linked-source-icon {
      width: 36px;
      height: 36px;
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--color-info-100);
      color: var(--color-info-600);
    }

    .linked-source-info {
      flex: 1;
      min-width: 0;
    }

    .linked-source-name {
      font-size: var(--font-size-sm);
      font-weight: 500;
      color: var(--text-primary);
    }

    .linked-source-meta {
      font-size: var(--font-size-xs);
      color: var(--text-muted);
    }

    /* Attributes List */
    .attribute-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: var(--space-3) 0;
      border-bottom: 1px solid var(--surface-border);
    }

    .attribute-row:last-child {
      border-bottom: none;
    }

    .attribute-label {
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
    }

    .attribute-value-text {
      font-size: var(--font-size-sm);
      font-weight: 500;
      color: var(--text-primary);
    }

    /* Case Memo */
    .case-memo {
      background: var(--surface-section);
      border-radius: var(--radius-lg);
      padding: var(--space-4);
    }

    .case-memo-text {
      font-family: var(--font-serif);
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
      line-height: 1.7;
      font-style: italic;
    }

    .case-memo-actions {
      display: flex;
      gap: var(--space-2);
      margin-top: var(--space-3);
    }

    /* Detail Footer */
    .detail-footer {
      padding: var(--space-4) var(--space-5);
      border-top: 1px solid var(--surface-border);
      background: var(--surface-section);
    }

    .detail-footer-actions {
      display: flex;
      gap: var(--space-3);
    }

    /* ----------------------------------------
       CREATE CASE MODAL
       ---------------------------------------- */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(4px);
      opacity: 0;
      visibility: hidden;
      transition: all var(--transition-base);
      z-index: 100;
    }

    .modal-backdrop.active {
      opacity: 1;
      visibility: visible;
    }

    .modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.95);
      width: 100%;
      max-width: 480px;
      background: var(--surface-card);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-xl);
      opacity: 0;
      visibility: hidden;
      transition: all var(--transition-base);
      z-index: 101;
    }

    .modal.active {
      opacity: 1;
      visibility: visible;
      transform: translate(-50%, -50%) scale(1);
    }

    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: var(--space-5);
      border-bottom: 1px solid var(--surface-border);
    }

    .modal-title {
      font-family: var(--font-display);
      font-size: var(--font-size-lg);
      font-weight: 600;
    }

    .modal-body {
      padding: var(--space-5);
    }

    .form-group {
      margin-bottom: var(--space-4);
    }

    .form-label {
      display: block;
      font-size: var(--font-size-sm);
      font-weight: 500;
      color: var(--text-primary);
      margin-bottom: var(--space-2);
    }

    .form-input {
      width: 100%;
      padding: var(--space-3);
      border: 1px solid var(--surface-border);
      border-radius: var(--radius-lg);
      font-size: var(--font-size-base);
      transition: all var(--transition-fast);
    }

    .form-input:focus {
      outline: none;
      border-color: var(--color-primary-400);
      box-shadow: 0 0 0 3px var(--color-primary-100);
    }

    .form-textarea {
      min-height: 100px;
      resize: vertical;
    }

    .form-hint {
      font-size: var(--font-size-xs);
      color: var(--text-muted);
      margin-top: var(--space-1);
    }

    .modal-footer {
      display: flex;
      justify-content: flex-end;
      gap: var(--space-3);
      padding: var(--space-4) var(--space-5);
      border-top: 1px solid var(--surface-border);
      background: var(--surface-section);
      border-radius: 0 0 var(--radius-xl) var(--radius-xl);
    }

    /* ----------------------------------------
       ANIMATIONS
       ---------------------------------------- */
    .animate-in {
      animation: fadeSlideIn 0.4s ease-out forwards;
    }

    .stagger-1 { animation-delay: 0.05s; opacity: 0; }
    .stagger-2 { animation-delay: 0.1s; opacity: 0; }
    .stagger-3 { animation-delay: 0.15s; opacity: 0; }
    .stagger-4 { animation-delay: 0.2s; opacity: 0; }
    .stagger-5 { animation-delay: 0.25s; opacity: 0; }
    .stagger-6 { animation-delay: 0.3s; opacity: 0; }

    @keyframes fadeSlideIn {
      from {
        opacity: 0;
        transform: translateY(12px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <!-- Sidebar Navigation -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <a href="index.html" class="sidebar-logo-mark">Q</a>
      </div>

      <nav class="sidebar-nav">
        <a href="dashboard.html" class="sidebar-nav-item" title="Dashboard">
          <svg class="sidebar-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="7" height="7" rx="1"/>
            <rect x="14" y="3" width="7" height="7" rx="1"/>
            <rect x="3" y="14" width="7" height="7" rx="1"/>
            <rect x="14" y="14" width="7" height="7" rx="1"/>
          </svg>
        </a>
        <a href="sources.html" class="sidebar-nav-item" title="Sources">
          <svg class="sidebar-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
            <polyline points="14,2 14,8 20,8"/>
          </svg>
        </a>
        <a href="coding.html" class="sidebar-nav-item" title="Coding">
          <svg class="sidebar-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="16,18 22,12 16,6"/>
            <polyline points="8,6 2,12 8,18"/>
          </svg>
        </a>
        <a href="cases.html" class="sidebar-nav-item active" title="Cases">
          <svg class="sidebar-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
            <circle cx="9" cy="7" r="4"/>
            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
          </svg>
        </a>
        <a href="analysis.html" class="sidebar-nav-item" title="Analysis">
          <svg class="sidebar-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="20" x2="18" y2="10"/>
            <line x1="12" y1="20" x2="12" y2="4"/>
            <line x1="6" y1="20" x2="6" y2="14"/>
          </svg>
        </a>
      </nav>

      <div class="sidebar-footer">
        <button class="sidebar-nav-item" onclick="toggleTheme()" title="Toggle Theme">
          <svg class="sidebar-nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="5"/>
            <line x1="12" y1="1" x2="12" y2="3"/>
            <line x1="12" y1="21" x2="12" y2="23"/>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
            <line x1="1" y1="12" x2="3" y2="12"/>
            <line x1="21" y1="12" x2="23" y2="12"/>
          </svg>
        </button>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <div class="cases-layout">
        <!-- Cases Content -->
        <div class="cases-content">
          <!-- Header -->
          <div class="cases-header animate-in">
            <div class="cases-header-top">
              <div>
                <h1 class="cases-title">Research Cases</h1>
                <p class="cases-subtitle">Manage participants, informants, and analytical units</p>
              </div>
              <div class="cases-actions">
                <button class="btn btn-secondary">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="7,10 12,15 17,10"/>
                    <line x1="12" y1="15" x2="12" y2="3"/>
                  </svg>
                  Import
                </button>
                <button class="btn btn-primary" onclick="showCreateModal()">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="12" y1="5" x2="12" y2="19"/>
                    <line x1="5" y1="12" x2="19" y2="12"/>
                  </svg>
                  New Case
                </button>
              </div>
            </div>

            <div class="cases-stats">
              <div class="case-stat-card active">
                <div class="case-stat-icon">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                    <circle cx="9" cy="7" r="4"/>
                  </svg>
                </div>
                <div>
                  <div class="case-stat-value">12</div>
                  <div class="case-stat-label">Total Cases</div>
                </div>
              </div>
              <div class="case-stat-card">
                <div class="case-stat-icon sources">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
                  </svg>
                </div>
                <div>
                  <div class="case-stat-value">10</div>
                  <div class="case-stat-label">With Sources</div>
                </div>
              </div>
              <div class="case-stat-card">
                <div class="case-stat-icon attributes">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="8" y1="6" x2="21" y2="6"/>
                    <line x1="8" y1="12" x2="21" y2="12"/>
                    <line x1="8" y1="18" x2="21" y2="18"/>
                    <line x1="3" y1="6" x2="3.01" y2="6"/>
                    <line x1="3" y1="12" x2="3.01" y2="12"/>
                    <line x1="3" y1="18" x2="3.01" y2="18"/>
                  </svg>
                </div>
                <div>
                  <div class="case-stat-value">45</div>
                  <div class="case-stat-label">Attributes</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Filters -->
          <div class="cases-filters animate-in stagger-1">
            <div class="filter-pills">
              <button class="filter-pill active">All Cases</button>
              <button class="filter-pill">With Sources</button>
              <button class="filter-pill">Without Sources</button>
              <button class="filter-pill">Recently Active</button>
            </div>
            <div class="search-wrapper">
              <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="11" cy="11" r="8"/>
                <line x1="21" y1="21" x2="16.65" y2="16.65"/>
              </svg>
              <input type="text" class="search-input" placeholder="Search cases...">
            </div>
          </div>

          <!-- Cases Grid -->
          <div class="cases-grid-container">
            <div class="cases-grid">
              <!-- Case Card 1 -->
              <div class="case-card selected animate-in stagger-2" onclick="selectCase(this, 'P01')">
                <div class="case-card-header">
                  <div class="case-avatar">P1</div>
                  <div class="case-info">
                    <div class="case-name">Participant 01</div>
                    <div class="case-description">Software engineer with 5 years experience, transitioned to fully remote work during the pandemic</div>
                  </div>
                  <button class="case-menu-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="12" r="1"/>
                      <circle cx="19" cy="12" r="1"/>
                      <circle cx="5" cy="12" r="1"/>
                    </svg>
                  </button>
                </div>
                <div class="case-divider"></div>
                <div class="case-stats-row">
                  <div class="case-stat">
                    <svg class="case-stat-icon-sm" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
                    </svg>
                    2 sources
                  </div>
                  <div class="case-stat">
                    <svg class="case-stat-icon-sm" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="16,18 22,12 16,6"/>
                      <polyline points="8,6 2,12 8,18"/>
                    </svg>
                    28 codes
                  </div>
                </div>
                <div class="case-attributes">
                  <span class="case-attribute-tag"><span class="attribute-key">Age:</span> <span class="attribute-value">32</span></span>
                  <span class="case-attribute-tag"><span class="attribute-key">Role:</span> <span class="attribute-value">Engineer</span></span>
                  <span class="case-attribute-tag"><span class="attribute-key">Remote:</span> <span class="attribute-value">Yes</span></span>
                </div>
              </div>

              <!-- Case Card 2 -->
              <div class="case-card animate-in stagger-3" onclick="selectCase(this, 'P02')">
                <div class="case-card-header">
                  <div class="case-avatar coral">P2</div>
                  <div class="case-info">
                    <div class="case-name">Participant 02</div>
                    <div class="case-description">Project manager on a hybrid schedule, manages a distributed team of 8 people</div>
                  </div>
                  <button class="case-menu-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="12" r="1"/>
                      <circle cx="19" cy="12" r="1"/>
                      <circle cx="5" cy="12" r="1"/>
                    </svg>
                  </button>
                </div>
                <div class="case-divider"></div>
                <div class="case-stats-row">
                  <div class="case-stat">
                    <svg class="case-stat-icon-sm" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
                    </svg>
                    3 sources
                  </div>
                  <div class="case-stat">
                    <svg class="case-stat-icon-sm" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="16,18 22,12 16,6"/>
                      <polyline points="8,6 2,12 8,18"/>
                    </svg>
                    42 codes
                  </div>
                </div>
                <div class="case-attributes">
                  <span class="case-attribute-tag"><span class="attribute-key">Age:</span> <span class="attribute-value">38</span></span>
                  <span class="case-attribute-tag"><span class="attribute-key">Role:</span> <span class="attribute-value">PM</span></span>
                  <span class="case-attribute-tag"><span class="attribute-key">Remote:</span> <span class="attribute-value">Hybrid</span></span>
                </div>
              </div>

              <!-- Case Card 3 -->
              <div class="case-card animate-in stagger-4" onclick="selectCase(this, 'P03')">
                <div class="case-card-header">
                  <div class="case-avatar gold">P3</div>
                  <div class="case-info">
                    <div class="case-name">Participant 03</div>
                    <div class="case-description">UX Designer who recently transitioned to remote work, formerly office-based</div>
                  </div>
                  <button class="case-menu-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="12" r="1"/>
                      <circle cx="19" cy="12" r="1"/>
                      <circle cx="5" cy="12" r="1"/>
                    </svg>
                  </button>
                </div>
                <div class="case-divider"></div>
                <div class="case-stats-row">
                  <div class="case-stat">
                    <svg class="case-stat-icon-sm" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
                    </svg>
                    1 source
                  </div>
                  <div class="case-stat">
                    <svg class="case-stat-icon-sm" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="16,18 22,12 16,6"/>
                      <polyline points="8,6 2,12 8,18"/>
                    </svg>
                    15 codes
                  </div>
                </div>
                <div class="case-attributes">
                  <span class="case-attribute-tag"><span class="attribute-key">Age:</span> <span class="attribute-value">27</span></span>
                  <span class="case-attribute-tag"><span class="attribute-key">Role:</span> <span class="attribute-value">Designer</span></span>
                </div>
              </div>

              <!-- Case Card 4 -->
              <div class="case-card animate-in stagger-5" onclick="selectCase(this, 'P04')">
                <div class="case-card-header">
                  <div class="case-avatar teal">P4</div>
                  <div class="case-info">
                    <div class="case-name">Participant 04</div>
                    <div class="case-description">Data Analyst who prefers office work but was required to work remotely</div>
                  </div>
                  <button class="case-menu-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="12" r="1"/>
                      <circle cx="19" cy="12" r="1"/>
                      <circle cx="5" cy="12" r="1"/>
                    </svg>
                  </button>
                </div>
                <div class="case-divider"></div>
                <div class="case-stats-row">
                  <div class="case-stat">
                    <svg class="case-stat-icon-sm" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
                    </svg>
                    2 sources
                  </div>
                  <div class="case-stat">
                    <svg class="case-stat-icon-sm" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="16,18 22,12 16,6"/>
                      <polyline points="8,6 2,12 8,18"/>
                    </svg>
                    31 codes
                  </div>
                </div>
                <div class="case-attributes">
                  <span class="case-attribute-tag"><span class="attribute-key">Age:</span> <span class="attribute-value">45</span></span>
                  <span class="case-attribute-tag"><span class="attribute-key">Remote:</span> <span class="attribute-value">No Pref</span></span>
                </div>
              </div>

              <!-- Case Card 5 -->
              <div class="case-card animate-in stagger-6" onclick="selectCase(this, 'P05')">
                <div class="case-card-header">
                  <div class="case-avatar sage">P5</div>
                  <div class="case-info">
                    <div class="case-name">Participant 05</div>
                    <div class="case-description">HR Manager responsible for implementing remote work policies company-wide</div>
                  </div>
                  <button class="case-menu-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="12" r="1"/>
                      <circle cx="19" cy="12" r="1"/>
                      <circle cx="5" cy="12" r="1"/>
                    </svg>
                  </button>
                </div>
                <div class="case-divider"></div>
                <div class="case-stats-row">
                  <div class="case-stat">
                    <svg class="case-stat-icon-sm" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
                    </svg>
                    1 source
                  </div>
                  <div class="case-stat">
                    <svg class="case-stat-icon-sm" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="16,18 22,12 16,6"/>
                      <polyline points="8,6 2,12 8,18"/>
                    </svg>
                    18 codes
                  </div>
                </div>
                <div class="case-attributes">
                  <span class="case-attribute-tag"><span class="attribute-key">Age:</span> <span class="attribute-value">41</span></span>
                  <span class="case-attribute-tag"><span class="attribute-key">Role:</span> <span class="attribute-value">HR</span></span>
                </div>
              </div>

              <!-- Case Card 6 -->
              <div class="case-card animate-in stagger-6" onclick="selectCase(this, 'P06')">
                <div class="case-card-header">
                  <div class="case-avatar rose">P6</div>
                  <div class="case-info">
                    <div class="case-name">Participant 06</div>
                    <div class="case-description">Sales Representative who struggles with virtual client meetings and relationship building</div>
                  </div>
                  <button class="case-menu-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="12" r="1"/>
                      <circle cx="19" cy="12" r="1"/>
                      <circle cx="5" cy="12" r="1"/>
                    </svg>
                  </button>
                </div>
                <div class="case-divider"></div>
                <div class="case-stats-row">
                  <div class="case-stat">
                    <svg class="case-stat-icon-sm" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
                    </svg>
                    2 sources
                  </div>
                  <div class="case-stat">
                    <svg class="case-stat-icon-sm" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="16,18 22,12 16,6"/>
                      <polyline points="8,6 2,12 8,18"/>
                    </svg>
                    24 codes
                  </div>
                </div>
                <div class="case-attributes">
                  <span class="case-attribute-tag"><span class="attribute-key">Age:</span> <span class="attribute-value">35</span></span>
                  <span class="case-attribute-tag"><span class="attribute-key">Role:</span> <span class="attribute-value">Sales</span></span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Case Detail Panel -->
        <div class="case-detail-panel" id="caseDetailPanel">
          <div class="detail-header">
            <div class="detail-avatar">P1</div>
            <div class="detail-name">Participant 01</div>
            <div class="detail-description">Software engineer with 5 years experience, works remotely full-time since pandemic transition</div>
          </div>

          <div class="detail-content">
            <div class="detail-section">
              <div class="detail-section-title">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
                </svg>
                Linked Sources
              </div>
              <div class="linked-source">
                <div class="linked-source-icon">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
                  </svg>
                </div>
                <div class="linked-source-info">
                  <div class="linked-source-name">Interview_P01_R1.txt</div>
                  <div class="linked-source-meta">Round 1 Interview — 18 codes applied</div>
                </div>
              </div>
              <div class="linked-source">
                <div class="linked-source-icon">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/>
                  </svg>
                </div>
                <div class="linked-source-info">
                  <div class="linked-source-name">Interview_P01_R2.txt</div>
                  <div class="linked-source-meta">Round 2 Follow-up — 10 codes applied</div>
                </div>
              </div>
              <button class="btn btn-secondary btn-sm" style="width: 100%; margin-top: var(--space-3);">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="12" y1="5" x2="12" y2="19"/>
                  <line x1="5" y1="12" x2="19" y2="12"/>
                </svg>
                Link Source
              </button>
            </div>

            <div class="detail-section">
              <div class="detail-section-title">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="8" y1="6" x2="21" y2="6"/>
                  <line x1="8" y1="12" x2="21" y2="12"/>
                  <line x1="8" y1="18" x2="21" y2="18"/>
                </svg>
                Case Attributes
              </div>
              <div class="attribute-row">
                <span class="attribute-label">Age</span>
                <span class="attribute-value-text">32</span>
              </div>
              <div class="attribute-row">
                <span class="attribute-label">Gender</span>
                <span class="attribute-value-text">Male</span>
              </div>
              <div class="attribute-row">
                <span class="attribute-label">Role</span>
                <span class="attribute-value-text">Software Engineer</span>
              </div>
              <div class="attribute-row">
                <span class="attribute-label">Experience</span>
                <span class="attribute-value-text">5 years</span>
              </div>
              <div class="attribute-row">
                <span class="attribute-label">Work Mode</span>
                <span class="attribute-value-text">Fully Remote</span>
              </div>
              <div class="attribute-row">
                <span class="attribute-label">Team Size</span>
                <span class="attribute-value-text">12</span>
              </div>
              <button class="btn btn-secondary btn-sm" style="width: 100%; margin-top: var(--space-3);">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="12" y1="5" x2="12" y2="19"/>
                  <line x1="5" y1="12" x2="19" y2="12"/>
                </svg>
                Add Attribute
              </button>
            </div>

            <div class="detail-section">
              <div class="detail-section-title">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                  <polyline points="14,2 14,8 20,8"/>
                  <line x1="16" y1="13" x2="8" y2="13"/>
                  <line x1="16" y1="17" x2="8" y2="17"/>
                </svg>
                Case Memo
              </div>
              <div class="case-memo">
                <p class="case-memo-text">
                  "Early adopter of remote work. Very tech-savvy and adapted quickly to distributed collaboration tools. Key themes emerging: strong sense of autonomy, work-life integration challenges, and reliance on asynchronous communication."
                </p>
                <div class="case-memo-actions">
                  <button class="btn btn-ghost btn-sm">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                      <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                    </svg>
                    Edit
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="detail-footer">
            <div class="detail-footer-actions">
              <button class="btn btn-primary" style="flex: 1;">View All Codes</button>
              <button class="btn btn-secondary" style="flex: 1;">Export Case</button>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Create Case Modal -->
  <div class="modal-backdrop" id="modalBackdrop" onclick="hideCreateModal()"></div>
  <div class="modal" id="createCaseModal">
    <div class="modal-header">
      <h3 class="modal-title">Create New Case</h3>
      <button class="btn btn-ghost btn-icon" onclick="hideCreateModal()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"/>
          <line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label class="form-label">Case Name *</label>
        <input type="text" class="form-input" placeholder="e.g., Participant 13">
      </div>
      <div class="form-group">
        <label class="form-label">Description</label>
        <textarea class="form-input form-textarea" placeholder="Brief description of this case..."></textarea>
        <p class="form-hint">Describe the participant's role, context, or other relevant details.</p>
      </div>
      <div class="form-group">
        <label class="form-label">Link Sources</label>
        <select class="form-input">
          <option value="">Select sources to link...</option>
          <option>Interview_P13.txt</option>
          <option>Survey_P13.txt</option>
          <option>FieldNotes_P13.txt</option>
        </select>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" onclick="hideCreateModal()">Cancel</button>
      <button class="btn btn-primary">Create Case</button>
    </div>
  </div>

  <script src="js/app.js"></script>
  <script>
    function showCreateModal() {
      document.getElementById('modalBackdrop').classList.add('active');
      document.getElementById('createCaseModal').classList.add('active');
    }

    function hideCreateModal() {
      document.getElementById('modalBackdrop').classList.remove('active');
      document.getElementById('createCaseModal').classList.remove('active');
    }

    function selectCase(card, id) {
      document.querySelectorAll('.case-card').forEach(c => c.classList.remove('selected'));
      card.classList.add('selected');
      // In a real app, this would update the detail panel with the selected case data
    }
  </script>
</body>
</html>
